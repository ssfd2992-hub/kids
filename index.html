<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="utf-8" />
  <title>ูุธุงู ุงูุญุถูุฑ - ูุฏุงุฑุณ ุงูุฃุญุฏ</title>

  <!-- CSS -->
  <link rel="stylesheet" href="attendance_style.css">

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>

<body>

  <!-- โ ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู -->
  <div id="auth-screen" class="screen">
    <div class="auth-box">
      <h1>ูุธุงู ุญุถูุฑ ูุฏุงุฑุณ ุงูุฃุญุฏ</h1>
      <div class="avatar-large">
      </div>
      <input type="text" id="login-username" placeholder="ุงุณู ุงููุณุชุฎุฏู" />
      <input type="password" id="login-password" placeholder="ูููุฉ ุงูุณุฑ" />
      <div class="row">
        <button id="btn-login" class="btn">ุชุณุฌูู ุฏุฎูู</button>
      </div>
      <div id="login-msg" class="muted" style="margin-top:8px"></div>
    </div>
  </div>

  <!-- โ ุงูุชุทุจูู ุงูุฑุฆูุณู -->
  <div id="attendance-app" class="screen hidden">

    <!-- ูุง ููุฌุฏ ุจุงุฑ ุนููู ููุง ุจูุงุกู ุนูู ุทูุจู -->

    <div class="panel content-panel">
      <div id="attendance-tabs" class="tabs"></div>

      <div id="view-container">

        <!-- ๐ค ุดุงุดุฉ ุงููุณุชุฎุฏู -->
        <div id="user-view" class="view hidden">
          <h3>ุนุฑุถ ุงูุญุถูุฑ ููุดูุฑ: <span id="view-month-label"></span></h3>
          <div class="readonly-tables">
            <div class="card small-card">
              <h4>ุงูุญุถูุฑ</h4>
              <div id="user-attendance-table" class="table-wrap"></div>
            </div>
            <div class="card small-card">
              <h4>ุงูุณููู ูู ุงูุฎุฏูุฉ</h4>
              <div id="user-behavior-table" class="table-wrap"></div>
            </div>
            <div class="card small-card">
              <h4>ุงูุชูุงุนู ูุน ุงูุฎุฏุงู</h4>
              <div id="user-interaction-table" class="table-wrap"></div>
            </div>
          </div>
        </div>

        <!-- ๐จโ๐ซ ุดุงุดุฉ ุงููุดุฑู ุงููุฑุนู -->
        <div id="subadmin-view" class="view hidden">
          <div class="subadmin-controls">
            <div id="sub-tabs" class="tabs local">
              <button data-tab="attendance" class="tab-btn active">๐ ุชุณุฌูู ุงูุญุถูุฑ</button>
              <button data-tab="behavior" class="tab-btn">๐ ุชุณุฌูู ุงูุณููู</button>
              <button data-tab="interaction" class="tab-btn">๐ฌ ุชุณุฌูู ุงูุชูุงุนู</button>
              <button data-tab="visitations" class="tab-btn">โค๏ธ ุงูุงูุชูุงุฏ </button>
            </div>

            <div id="sub-table-wrap" class="table-wrap"></div>

            <div class="sub-actions">
              <button id="sub-save" class="btn">๐พ ุญูุธ ุงูุจูุงูุงุช</button>
              <button id="sub-export-excel" class="btn">๐ค ุชุตุฏูุฑ Excel</button>
              <div id="sub-alerts" class="alerts"></div>
            </div>
          </div>
        </div>

        <!-- ๐ ุดุงุดุฉ ุงูุฃุฏูู -->
        <div id="admin-view" class="view hidden">
          <div class="admin-panel">
            <div class="admin-top">
              <label>ุงุฎุชุฑ ุงููุฑุญูุฉ:</label>
              <select id="admin-stage-picker" class="input"></select>
            </div>

            <div id="admin-tables" class="table-wrap"></div>

            <div class="admin-actions">
              <button id="admin-save" class="btn">๐พ ุญูุธ ุงูุจูุงูุงุช</button>
              <button id="admin-export-excel" class="btn">๐ฅ ุชุญููู Excel</button>
              <button id="admin-chart" class="btn ghost">๐ ุนุฑุถ ุงูุฅุญุตุงุฆูุฉ</button>
            </div>

            <div id="admin-chart-wrap" class="card chart-card hidden">
              <canvas id="adminChart"></canvas>
            </div>

            <div id="admin-alerts" class="alerts"></div>
          </div>
        </div>

      </div>
    </div>

    <div class="panel footer-panel">
      <button id="btn-prev-month" class="btn small">โช ุงูุดูุฑ ุงูุณุงุจู</button>
      <button id="btn-go-current" class="btn small hidden">โฉ ุงูุดูุฑ ุงูุญุงูู</button>
      <button id="btn-logout" class="btn ghost small">ุชุณุฌูู ุฎุฑูุฌ</button>
    </div>
  </div>

  <!-- โ Toast -->
  <div id="att-toast" class="toast hidden"></div>

  <!-- โ JS -->
  <script src="attendance_app.js"></script>
</body>

</html>